<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioteca Municipal Coimbra</title>

    <link rel="icon" href="..//Fotos/mini-logo (1).png" type="image/x-icon">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <link rel="stylesheet" href="./adicionar.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Graduate&family=IBM+Plex+Serif:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Alice&family=Encode+Sans:wght@100..900&family=Graduate&family=IBM+Plex+Serif:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Noto+Sans+Display:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    
    <style>
        
    </style>
    </head>
    <body>
        <!--Header-->
        <section id="header">
            <nav class="navbar navbar-expand-lg fixed-top">
                <div class="container-fluid">
                    <a class="navbar-brand logo" href="../Main-page/index.html">
                        <img id="logo-img" src="../Fotos/logo-horizontal.png" alt="Logotipo" height="100">
                    </a>
            
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav mb-2 mb-lg-0">
                            <li class="nav-item"><a class="nav-link  header-text" href="../Listar-livros/listar.html">Lista de Livros</a></li>
                            <li class="nav-item"><a class="nav-link active header-text" href="./adicionar.html">Adicionar Livro</a></li>
                            <li class="nav-item"><a class="nav-link header-text" href="../Eliminar-livros/eliminar.html">Eliminar Livro</a></li>
                            <li class="nav-item"><a class="nav-link  header-text" href="../Preferidos/preferidos.html">Favoritos</a></li>
                        </ul>
                        <div class="col-md-3 text-end">
                            <a href="../Login/login.html" class="btn btn-outline-primary me-2">Log in</a>
                            <a href="../Signup/sign-up.html" class="btn btn-primary">Sign up</a>
                        </div>
                    </div>
                </div>

            </nav>            
        </section>   
        
        <div class="container" style="margin-top: 100px;">
            <h1>Adicionar um Livro</h1>
            <form id="add-book-form">
                <div class="mb-3">
                    <label for="name" class="form-label">Nome</label>
                    <input type="text" class="form-control" id="name" placeholder="Ex: Star Wars"  required>
                </div>
                <div class="mb-3">
                    <label for="author" class="form-label">Autor</label>
                    <input type="text" class="form-control" id="author" placeholder="Ex: Fernando Pessoa"  required>
                </div>
                <div class="mb-3">
                    <label for="release_date" class="form-label">Data de Lançamento</label>
                    <input type="date" class="form-control" id="release_date" required>
                </div>
                <div class="mb-3">
                    <label for="number_of_pages" class="form-label">Número de Páginas</label>
                    <input type="number" class="form-control" id="number_of_pages" placeholder="Ex: 541" required>
                </div>
                <div class="mb-3">
                    <label for="genres" class="form-label">Géneros</label>
                    <input type="text" class="form-control" id="genres" placeholder="Ex: Romance, Filosofia" required>
                </div>
                <div class="mb-3">
                    <label for="cover_image_url" class="form-label">URL da Capa do Livro</label>
                    <input type="text" class="form-control" id="cover_image_url" placeholder="Ex: https://example.com/capa.jpg" required>

                </div>
                <button type="submit" class="btn btn-primary">Adicionar Livro</button>
            </form>
        </div>
    

        <!-- Footer -->
        <section id="footer">
            <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
                <div class="logotipo-footer col-md-4 d-flex align-items-center">
                    <a href="../Main-page/index.html" class="mb-3 me-2 mb-md-0 text-body-secondary text-decoration-none lh-1">
                        <img src="../Fotos/logo-horizontal.png" alt="Logotipo" height="50">
                    </a>
                    <span class="mb-3 mb-md-0 text-body-secondary">© 2024 Company, Inc</span>
                </div>
                <span class="mb-3 mb-md-0 text-body-secondary">Tel: +351 239 123 123</span>
                <ul class="logos nav col-md-3 justify-content-end list-unstyled d-flex align-items-center">
                    <li class="ms-3 d-flex align-items-center">
                        <a class="text-body-secondary" href="https://www.facebook.com/profile.php?id=61565372822043">
                            <img src="../Svg/facebook.svg" alt="Facebook" height="40">
                        </a>
                    </li>
                    <li class="ms-3 d-flex align-items-center">
                        <a class="text-body-secondary" href="https://www.facebook.com/profile.php?id=61565372822043">
                            <img src="../Svg/instagram.svg" alt="Facebook" height="40">
                        </a>
                    </li>
                    <li class="ms-3 d-flex align-items-center">
                        <a class="text-body-secondary" href="https://www.facebook.com/profile.php?id=61565372822043">
                            <img src="../Svg/gmail.svg" alt="Facebook" height="40">
                        </a>
                    </li>
                    
                </ul>
            </footer>
        </section>

        <script>
            document.addEventListener("DOMContentLoaded", function() {
                const loggedInUser = JSON.parse(localStorage.getItem("loggedInUser"));

                if (loggedInUser) {
                    const loginButtons = document.querySelector(".col-md-3");
                    if (loginButtons) loginButtons.style.display = "none";

                    const firstName = loggedInUser.name.split(" ")[0];

                    // Cria o elemento dropdown com saudação e botão de logout
                    const greetingDropdown = document.createElement("li");
                    greetingDropdown.classList.add("nav-item", "dropdown", "header-text", "ms-auto");

                    greetingDropdown.innerHTML = `
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Olá, ${firstName}
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item header-text" id="logout-btn">Terminar Sessão</a></li>
                        </ul>
                    `;

                    // Evento de clique no botão "Terminar Sessão"
                    greetingDropdown.querySelector("#logout-btn").addEventListener("click", function() {
                        localStorage.removeItem("loggedInUser"); // Remove usuário logado
                        window.location.href = "./adicionar.html"; // Redireciona para a página de login
                    });

                    // Adiciona o dropdown ao navbar
                    document.querySelector(".navbar .container-fluid .navbar-nav").appendChild(greetingDropdown);
                }
            });
                
        </script>

        <script src="../Listar-livros/lista.js"></script> 
        <script src="../Adicionar-livros/adicionar.js"></script> <!-- Referência para adicionar.js -->

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
        
    </body>
</html>
